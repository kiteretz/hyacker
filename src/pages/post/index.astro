---
import { getCollection } from 'astro:content';
import { sortOptions } from '../../utils/sort';

import Layout from '../../layouts/Layout.astro';

const posts = await getCollection('posts');
const sortedPosts = posts.sort(sortOptions.dateDesc);
---

<Layout title="記事一覧" className="post-archive">
  <h2>Archives</h2>
  <ul>
    {
      sortedPosts.map((post: any) => (
        <li>
          <a href={`/post/${post.slug}`}>{post.data.title}</a>
        </li>
      ))
    }
  </ul>
</Layout>
